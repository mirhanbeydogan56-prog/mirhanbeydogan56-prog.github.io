<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Bizim Kalp AÄŸacÄ±mÄ±z ðŸŒ¸</title>
<style>
  body {
    text-align: center;
    font-family: sans-serif;
    background: #fff0f5;
  }

  h1 {
    margin-top: 20px;
    color: #d6336c;
  }

  #tree-container {
    position: relative;
    width: 400px;
    height: 400px;
    margin: 20px auto;
  }

  #tree-svg {
    width: 100%;
    height: 100%;
  }

  /* Kalp ÅŸeklinde yeÅŸil tepe */
  #tree-container::before {
    content: "";
    position: absolute;
    top: 50px;
    left: 50px;
    width: 300px;
    height: 200px;
    background-color: green;
    clip-path: polygon(
      50% 0%, 61% 10%, 75% 25%, 80% 40%,
      75% 55%, 60% 70%, 50% 85%, 40% 70%,
      25% 55%, 20% 40%, 25% 25%, 39% 10%
    );
    opacity: 0.5;
    z-index: 0;
  }

  .flower {
    width: 12px;
    height: 12px;
    position: absolute;
    background-color: pink;
    clip-path: polygon(
      50% 0%, 61% 10%, 75% 25%, 80% 40%,
      75% 55%, 60% 70%, 50% 85%, 40% 70%,
      25% 55%, 20% 40%, 25% 25%, 39% 10%
    );
    opacity: 0;
    transition: opacity 0.5s;
    z-index: 1; /* Ã‡iÃ§ekler yeÅŸilin Ã¼stÃ¼nde */
  }
</style>
</head>
<body>
<h1>Bizim Kalp AÄŸacÄ±mÄ±z ðŸŒ¸</h1>
<p>GÃ¼n: <span id="dayCount"></span></p>

<div id="tree-container">
  <svg id="tree-svg" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
    <!-- GÃ¶vde -->
    <rect x="190" y="300" width="20" height="100" fill="#8b4513" rx="10"/>
  </svg>
</div>

<script>
const treeContainer = document.getElementById('tree-container');
const dayCountEl = document.getElementById('dayCount');

const totalDays = 134; // Ä°liÅŸkinizin gÃ¼nÃ¼
const startDate = new Date();
startDate.setDate(startDate.getDate() - totalDays);

const today = new Date();
let daysPassed = Math.floor((today - startDate)/(1000*60*60*24));
if(daysPassed > totalDays) daysPassed = totalDays;

dayCountEl.textContent = daysPassed;

// Ã‡iÃ§ekleri kalp ÅŸeklinde daÄŸÄ±tmak iÃ§in koordinat Ã¼ret
const flowerPositions = [];
const width = 300, height = 200; // kalp alanÄ± boyutu

function isInsideHeart(x, y) {
    let nx = (x - width/2) / 100;
    let ny = (y - height/2) / 100;
    return Math.pow(nx*nx + ny*ny -1,3) - nx*nx*ny*ny*ny <= 0;
}

// rastgele kalp iÃ§inde pozisyon Ã¼ret
while(flowerPositions.length < totalDays) {
    let x = Math.random()*width;
    let y = Math.random()*height;
    if(isInsideHeart(x, y)) {
        flowerPositions.push({x: x + 50, y: y + 50}); // ::before offset
    }
}

// Ã‡iÃ§ekleri DOM'a ekle
flowerPositions.forEach((pos, index)=>{
    const f = document.createElement('div');
    f.classList.add('flower');
    f.style.left = pos.x + 'px';
    f.style.top = pos.y + 'px';
    if(index < daysPassed) f.style.opacity = 1;
    treeContainer.appendChild(f);
});
</script>
</body>
</html>
